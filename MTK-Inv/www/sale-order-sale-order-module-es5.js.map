{"version":3,"sources":["webpack:///src/app/sale-order/sale-order.page.html","webpack:///src/app/Service/sale-order.service.ts","webpack:///src/app/sale-order/sale-order-routing.module.ts","webpack:///src/app/sale-order/sale-order.module.ts","webpack:///src/app/sale-order/sale-order.page.scss","webpack:///src/app/sale-order/sale-order.page.ts"],"names":["SaleOrderService","db","saleOrderCollectionList","collection","Purchase","add","saleOrder","snapshotChanges","pipe","actions","map","a","data","payload","doc","id","saleOrderObj","update","valueChanges","vendors","providedIn","routes","path","component","SaleOrderPageRoutingModule","imports","forChild","exports","SaleOrderPageModule","declarations","SaleOrderPage","fb","platform","itemsService","customerService","alertController","saleOrderService","regform","group","fields2","text","value","watermark2","fields","height","watermark","saleOrderNumber","required","customerName","date","totalAmount","lineItems","array","addLineItemsGroup","getCustomers","getItems","is","usePicker","itemCode","quantity","cost","subTotal","addLineItemsArray","push","index","removeAt","getAllItem","subscribe","result","length","listOfItems","AlertInternet","error","console","log","getAllCustomer","listOfCustomer","create","cssClass","header","message","buttons","alert","present","valid","saleOrderId","updateSaleOrder","reset","presentAlert","control","get","selector","template"],"mappings":"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","file":"sale-order-sale-order-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Sale Order</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n<div  class=\\\"container-fluid\\\" \\n          style=\\\"background-color: rgb(235, 235, 235);\\\">\\n          <div class=\\\"row\\\">\\n            <!-- <div class=\\\"col\\\">\\n              <h1>Add Product</h1>\\n              <hr>\\n            </div> -->\\n          </div>\\n\\n          <!-- main form -->\\n          <div class=\\\"row\\\">\\n            <form action=\\\"\\\"  [formGroup]=\\\"regform\\\">\\n              <div class=\\\"col\\\">\\n        <!-- personal info -->\\n\\n                <ion-item>\\n                  <ion-label >Sale Order Number</ion-label>\\n                  <ion-input interface=\\\"popover\\\" formControlName=\\\"saleOrderNumber\\\" >\\n                  </ion-input>\\n                  </ion-item>\\n                   <ion-item>\\n                  <div class=\\\"control-section\\\" >\\n                  <div id='content' style=\\\"margin: 0px auto; width:300px; padding-top: 20px; margin-left: 0px;\\\" >\\n                      <ejs-dropdownlist  id='Items' #samples [dataSource]='listOfCustomer'  [fields]='fields2' [popupHeight]='height' \\n                      [placeholder]='watermark2'[headerTemplate]='headerTemplate' [itemTemplate]='itemTemplate' formControlName=\\\"customerName\\\" >\\n                        <ng-template #headerTemplate >\\n                         <div class=\\\"head\\\"> <span class=\\\"photo\\\"> Fullname</span> <span class=\\\"photo\\\" style=\\\"margin-left:17px;\\\">Location</span><span class=\\\"photo\\\" style=\\\"margin-left:17px;\\\">Phone Number</span> </div>\\n                          </ng-template>\\n                            <ng-template #itemTemplate let-data ngFor let-code [ngForOf]=\\\"listOfCustomer\\\" let-i=\\\"index\\\" >\\n                              <div class=\\\"fullname\\\"> {{code.fullname}} </div>\\n                                <div class=\\\"location\\\"> {{code.location}}</div>\\n                                <div class=\\\"phonenumber\\\"> {{code.phonenumber}} </div>\\n                             </ng-template>\\n                          <ng-template #valueTemplate let-data ngFor let-code [ngForOf]=\\\"listOfCustomer\\\" let-i=\\\"index\\\" >\\n                                 <div class=\\\"name\\\"> {{code?.fullname}} </div>\\n                          </ng-template>\\n                        </ejs-dropdownlist>\\n                     </div>\\n              </div>  \\n                </ion-item>\\n\\n                <ion-item>\\n                  <ion-label>Sale Order Date</ion-label>\\n                  <ion-input type=\\\"date\\\" formControlName=\\\"date\\\"></ion-input>\\n                </ion-item>\\n            <!-- address form portion -->\\n                <div class=\\\"row\\\" formArrayName=\\\"lineItems\\\">\\n                  <div class=\\\"col-12\\\" *ngFor=\\\"let group of addLineItemsArray.controls; let i = index;\\\" [formGroupName]=\\\"i\\\">\\n                    <div class=\\\"row\\\" >\\n                      <div class=\\\"col-12\\\">\\n                        <div class=\\\"row\\\">\\n                          <div class=\\\"col-4 control-buttons\\\" >\\n                            <ion-button id=\\\"add items\\\" (click)=\\\"addLineItems()\\\"> \\n                              <ion-icon slot=\\\"start\\\" name=\\\"add-circle-outline\\\"></ion-icon>Add Product</ion-button>\\n                          </div>\\n                          <div class=\\\"col-8 control-buttons\\\">\\n                            <ion-button id=\\\"add items\\\" (click)=\\\"removeLineOfItems(i)\\\"> \\n                              <ion-icon slot=\\\"start\\\"name=\\\"remove-circle-outline\\\"></ion-icon>Remove </ion-button>\\n                          </div>\\n                        </div>\\n                        </div>\\n                      <div class=\\\"control-section\\\" >\\n                        <div id='content' style=\\\"margin: 0px auto; width:300px; padding-top: 40px; margin-left: 20px;\\\" >\\n                            <ejs-dropdownlist  id='Items' #samples [dataSource]='listOfItems'  [fields]='fields' [popupHeight]='height' \\n                            [placeholder]='watermark'[headerTemplate]='headerTemplate' [itemTemplate]='itemTemplate' formControlName=\\\"itemCode\\\" >\\n                              <ng-template #headerTemplate >\\n                               <div class=\\\"head\\\"> <span class=\\\"photo\\\">Photo Items</span> <span style=\\\"margin-left:17px;\\\">Item and description</span></div>\\n                                </ng-template>\\n                                  <ng-template #itemTemplate let-data ngFor let-code [ngForOf]=\\\"listOfItems\\\" let-i=\\\"index\\\" >\\n                                    <img class=\\\"empImage\\\" [src]=\\\"code?.picture\\\"/>\\n                                      <div class=\\\"ename\\\"> {{code?.name}} </div>\\n                                      <div class=\\\"job\\\"> {{code?.discrption}} </div>\\n                                     </ng-template>\\n                                <ng-template #valueTemplate let-data ngFor let-code [ngForOf]=\\\"listOfCustomer\\\" let-i=\\\"index\\\" >\\n                                    <div class=\\\"name\\\"> {{code?.name}} </div>\\n                                </ng-template>\\n                              </ejs-dropdownlist>\\n                           </div>\\n                    </div>  \\n                      <div class=\\\"col-12\\\">\\n                        <div class=\\\"row\\\" ng-app=\\\"\\\">\\n                          <div class=\\\"col\\\">\\n                            <div class=\\\"form-group\\\">\\n                              <label for=\\\"quantity\\\">Qunatity</label>\\n                              <input type=\\\"number\\\" formControlName=\\\"quantity\\\" ng-model=\\\"qunatity\\\" ng-init=\\\"qunatity=0\\\" [ngClass]=\\\"{'form-control': true}\\\"  placeholder=\\\"Enter Qunatity\\\">\\n                            </div>\\n                          </div>\\n                          <div class=\\\"col\\\">\\n                            <div class=\\\"form-group\\\">\\n                              <label for=\\\"cost\\\">Unit Price</label>\\n                              <input type=\\\"number\\\" formControlName=\\\"cost\\\" ng-model=\\\"cost\\\" ng-init=\\\"cost=0\\\" [ngClass]=\\\"{'form-control': true}\\\"  placeholder=\\\"Enter unit price\\\">\\n                            </div>\\n                          </div>\\n                           <div class=\\\"col\\\">\\n                            <div class=\\\"form-group\\\">\\n                              <label for=\\\"subTotal\\\">Subtotal</label>\\n                              <input type=\\\"hidden\\\" formControlName=\\\"subTotal\\\" [ngClass]=\\\"{'form-control': true}\\\" >\\n                              <!-- <p>{{calculateSubtotal() }} </p> -->\\n                            </div>\\n                          </div>\\n                        </div>\\n                  \\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Total Amount</ion-label>\\n              <ion-input  formControlName=\\\"totalAmount\\\"></ion-input>\\n            </ion-item> \\n           <div style=\\\"text-align: center; margin: auto;\\\">\\n              <ion-button id=\\\"add items\\\" (click)=\\\"saveSaleOrder()\\\"> \\n                <ion-icon slot=\\\"start\\\" name=\\\"add-circle-outline\\\"></ion-icon>\\n                Add Sale Order </ion-button>\\n            </div>\\n        <!-- seperator -->\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col\\\">\\n            <hr>\\n          </div>\\n        </div>\\n\\n        <!-- final action buttons \\n        <div class=\\\"row justify-content-center\\\">\\n          <div class=\\\"col-2\\\">\\n            <button type=\\\"button\\\" [disabled]=\\\"favFruitsError || nestedForm.invalid\\\" (click)=\\\"submitHandler()\\\" class=\\\"btn btn-primary\\\">Submit</button>\\n          </div>\\n        </div>-->\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n</ion-content>\";","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/internal/operators/map';\nimport { saleOrder } from 'src/Tabels/tabels-list';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SaleOrderService {\n  private saleOrderCollectionList:AngularFirestoreCollection<any>;\n  private saleOrder:Observable<any[]>;\n  constructor(db:AngularFirestore) { \n    this.saleOrderCollectionList=db.collection<saleOrder>('saleOrder');\n  }\n  create(Purchase) { \n    return this.saleOrderCollectionList.add(Purchase);\n  }\n  //const incrment=firebase.firestore.FieldValue.increment(1);\n\n  getAllSaleOrder() {\n    this.saleOrder = this.saleOrderCollectionList.snapshotChanges().pipe(\n      map(actions => {\n        return actions.map(a => {\n          const data = a.payload.doc.data();\n          const id = a.payload.doc.id;\n          return { id, ...data };\n        });\n      })\n    );\n    return this.saleOrder;\n  }\n  updateSaleOrder(saleOrderObj:saleOrder, id: string) {\n    return this.saleOrderCollectionList.doc(id).update(saleOrderObj);\n  }\n  getSaleOrder(id) {\n    return this.saleOrderCollectionList.doc<any>(id).valueChanges();\n  }\n  addPurchase(vendors: any) {\n    return this.saleOrderCollectionList.add(vendors);\n  }\n  removeSaleOrder(id) {\n    return this.saleOrderCollectionList.doc(id).delete();\n  } \n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SaleOrderPage } from './sale-order.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SaleOrderPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SaleOrderPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SaleOrderPageRoutingModule } from './sale-order-routing.module';\n\nimport { SaleOrderPage } from './sale-order.page';\nimport { DropDownListModule } from '@syncfusion/ej2-angular-dropdowns';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SaleOrderPageRoutingModule,\n    ReactiveFormsModule,\n    DropDownListModule\n  ],\n  declarations: [SaleOrderPage]\n})\nexport class SaleOrderPageModule {}\n","export default \":root {\\n  --ion-safe-area-top: 20px;\\n  --ion-safe-area-bottom: 22px;\\n}\\n\\n.control-buttons {\\n  text-align: right;\\n}\\n\\n.control-buttons img {\\n  cursor: pointer;\\n}\\n\\n.e-bigger #Items_popup .e-dropdownbase .e-list-item {\\n  line-height: 40px;\\n  height: 64px;\\n}\\n\\n.e-bigger #Items_popup.e-popup .empImage {\\n  margin: 10px 16px;\\n}\\n\\n#Items .name {\\n  padding: 7px 42px;\\n  opacity: 0.87;\\n  line-height: 1.063em;\\n}\\n\\n#Items .valueTemp {\\n  border-radius: 50%;\\n  float: left;\\n  margin-top: 2px;\\n  margin-left: 2px;\\n}\\n\\n.e-bigger #Items .valueTemp {\\n  margin-top: 7px;\\n}\\n\\n.e-bigger #Items .name {\\n  padding: 11px 42px;\\n}\\n\\n#Items_popup .head {\\n  font-weight: 600;\\n  height: 48px;\\n  padding: 15px 0 0 16px;\\n  color: rgba(0, 0, 0, 0.54);\\n  font-size: 16px;\\n  background-color: #f5f5f5;\\n}\\n\\n.fabric #Items_popup .head {\\n  background-color: #fff;\\n  border-bottom: 1px solid #ccc;\\n  color: #0078d7;\\n  font-weight: 400;\\n}\\n\\n.highcontrast #Items_popup .head {\\n  color: #fff;\\n  background-color: #000;\\n}\\n\\n.bootstrap4 #Items_popup .head {\\n  color: #6c757d;\\n}\\n\\n.e-bigger #Items_popup .e-dropdownbase .e-list-item {\\n  line-height: 40px;\\n  height: 80px;\\n}\\n\\n#Items_popup .ename {\\n  display: block !important;\\n  opacity: 0.87;\\n  font-size: 16px;\\n  margin-top: 9px;\\n}\\n\\n#Items_popup .job {\\n  opacity: 0.54;\\n  font-size: 14px;\\n  margin-top: -10px;\\n  margin-bottom: 11px;\\n}\\n\\n.e-bigger #Items_popup .job {\\n  margin-top: -16px;\\n}\\n\\n#Items_popup .empImage {\\n  margin: 6px 16px;\\n  float: left;\\n  width: 50px;\\n  height: 50px;\\n}\\n\\n#Items_popup .e-dropdownbase .e-list-item * {\\n  display: block;\\n  text-indent: 0;\\n}\\n\\n.bootstrap4 #Items_popup.e-popup .empImage {\\n  margin: 0px 16px;\\n}\\n\\n.bootstrap4 #Items_popup.e-popup .job {\\n  margin-top: 0;\\n}\\n\\n.e-bigger.bootstrap4 #Items_popup.e-popup .job {\\n  margin-top: -15px;\\n}\\n\\n#Items_popup .location {\\n  margin: 6px 16px;\\n  font-size: 16px;\\n  margin-top: 9px;\\n  margin-left: 100px;\\n}\\n\\n#Items_popup .phonenumber {\\n  margin: 6px 16px;\\n  font-size: 16px;\\n  margin-top: -39px;\\n  float: right;\\n}\\n\\n#Items_popup .fullname {\\n  margin: 6px 16px;\\n  float: left;\\n  font-size: 16px;\\n  margin-top: 0px;\\n}\\n\\n.e-bigger #Items_popup .phonenumber {\\n  margin-top: -16px;\\n}\\n\\n.e-bigger #Items_popup .location {\\n  margin-top: -16px;\\n}\\n\\n.e-bigger #Items_popup .fullname {\\n  margin-top: -16px;\\n}\\n\\n.bootstrap4 #Items_popup.e-popup .fullname {\\n  margin: 0px 16px;\\n}\\n\\n.bootstrap4 #Items_popup.e-popup .phonenumber {\\n  margin-top: 0;\\n}\\n\\n.e-bigger.bootstrap4 #Items_popup.e-popup .phonenumber {\\n  margin-top: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2FsZS1vcmRlci9zYWxlLW9yZGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFBO0VBQ0EsNEJBQUE7QUFDSjs7QUFDRTtFQUNFLGlCQUFBO0FBRUo7O0FBQ0E7RUFDSSxlQUFBO0FBRUo7O0FBQUE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUFHRjs7QUFBQTtFQUNFLGlCQUFBO0FBR0Y7O0FBQUE7RUFDRSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxvQkFBQTtBQUdGOztBQURBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBSUY7O0FBREE7RUFDRSxlQUFBO0FBSUY7O0FBREE7RUFDRSxrQkFBQTtBQUlGOztBQURBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSwwQkFBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtBQUlGOztBQURBO0VBQ0Usc0JBQUE7RUFDQSw2QkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQUlGOztBQURBO0VBQ0UsV0FBQTtFQUNBLHNCQUFBO0FBSUY7O0FBREE7RUFDRSxjQUFBO0FBSUY7O0FBREE7RUFDRSxpQkFBQTtFQUNBLFlBQUE7QUFJRjs7QUFEQTtFQUNFLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBSUY7O0FBREE7RUFDRSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7QUFJRjs7QUFEQTtFQUNFLGlCQUFBO0FBSUY7O0FBREE7RUFDRSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUlGOztBQURBO0VBQ0UsY0FBQTtFQUNBLGNBQUE7QUFJRjs7QUFEQTtFQUNFLGdCQUFBO0FBSUY7O0FBREE7RUFDRSxhQUFBO0FBSUY7O0FBREE7RUFDRSxpQkFBQTtBQUlGOztBQUZBO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBS0Y7O0FBSEE7RUFDRSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7QUFNRjs7QUFKQTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBT0Y7O0FBTEE7RUFDRSxpQkFBQTtBQVFGOztBQU5BO0VBQ0UsaUJBQUE7QUFTRjs7QUFQQTtFQUNFLGlCQUFBO0FBVUY7O0FBUkE7RUFDRSxnQkFBQTtBQVdGOztBQVJBO0VBQ0UsYUFBQTtBQVdGOztBQVJBO0VBQ0UsZ0JBQUE7QUFXRiIsImZpbGUiOiJzcmMvYXBwL3NhbGUtb3JkZXIvc2FsZS1vcmRlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6cm9vdCB7XHJcbiAgICAtLWlvbi1zYWZlLWFyZWEtdG9wOiAyMHB4O1xyXG4gICAgLS1pb24tc2FmZS1hcmVhLWJvdHRvbTogMjJweDtcclxuICB9XHJcbiAgLmNvbnRyb2wtYnV0dG9ucyB7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDsgICAgXHJcbn1cclxuXHJcbi5jb250cm9sLWJ1dHRvbnMgaW1nIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4uZS1iaWdnZXIgI0l0ZW1zX3BvcHVwIC5lLWRyb3Bkb3duYmFzZSAuZS1saXN0LWl0ZW0ge1xyXG4gIGxpbmUtaGVpZ2h0OiA0MHB4O1xyXG4gIGhlaWdodDogNjRweDtcclxufVxyXG5cclxuLmUtYmlnZ2VyICNJdGVtc19wb3B1cC5lLXBvcHVwIC5lbXBJbWFnZSB7XHJcbiAgbWFyZ2luOiAxMHB4IDE2cHg7XHJcbn1cclxuXHJcbiNJdGVtcyAubmFtZSB7XHJcbiAgcGFkZGluZzogN3B4IDQycHg7XHJcbiAgb3BhY2l0eTogLjg3O1xyXG4gIGxpbmUtaGVpZ2h0OiAxLjA2M2VtO1xyXG59XHJcbiNJdGVtcyAudmFsdWVUZW1wIHtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgbWFyZ2luLXRvcDogMnB4O1xyXG4gIG1hcmdpbi1sZWZ0OiAycHg7XHJcbn1cclxuXHJcbi5lLWJpZ2dlciAjSXRlbXMgLnZhbHVlVGVtcCB7XHJcbiAgbWFyZ2luLXRvcDogN3B4O1xyXG59XHJcblxyXG4uZS1iaWdnZXIgI0l0ZW1zIC5uYW1lIHtcclxuICBwYWRkaW5nOiAxMXB4IDQycHg7XHJcbn1cclxuXHJcbiNJdGVtc19wb3B1cCAuaGVhZCB7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBoZWlnaHQ6IDQ4cHg7XHJcbiAgcGFkZGluZzogMTVweCAwIDAgMTZweDtcclxuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAuNTQpO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xyXG59XHJcblxyXG4uZmFicmljICNJdGVtc19wb3B1cCAuaGVhZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcclxuICBjb2xvcjogIzAwNzhkNztcclxuICBmb250LXdlaWdodDogNDAwO1xyXG59XHJcblxyXG4uaGlnaGNvbnRyYXN0ICNJdGVtc19wb3B1cCAuaGVhZCB7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcclxufVxyXG5cclxuLmJvb3RzdHJhcDQgI0l0ZW1zX3BvcHVwIC5oZWFkIHtcclxuICBjb2xvcjogIzZjNzU3ZDtcclxufVxyXG5cclxuLmUtYmlnZ2VyICNJdGVtc19wb3B1cCAuZS1kcm9wZG93bmJhc2UgLmUtbGlzdC1pdGVtIHtcclxuICBsaW5lLWhlaWdodDogNDBweDtcclxuICBoZWlnaHQ6IDgwcHg7XHJcbn1cclxuXHJcbiNJdGVtc19wb3B1cCAuZW5hbWUge1xyXG4gIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XHJcbiAgb3BhY2l0eTogLjg3O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBtYXJnaW4tdG9wOiA5cHg7XHJcbn1cclxuXHJcbiNJdGVtc19wb3B1cCAuam9iIHtcclxuICBvcGFjaXR5OiAuNTQ7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIG1hcmdpbi10b3A6IC0xMHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDExcHg7XHJcbn1cclxuXHJcbi5lLWJpZ2dlciAjSXRlbXNfcG9wdXAgLmpvYiB7XHJcbiAgbWFyZ2luLXRvcDogLTE2cHg7XHJcbn1cclxuXHJcbiNJdGVtc19wb3B1cCAuZW1wSW1hZ2Uge1xyXG4gIG1hcmdpbjogNnB4IDE2cHg7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbiAgaGVpZ2h0OiA1MHB4O1xyXG59XHJcblxyXG4jSXRlbXNfcG9wdXAgLmUtZHJvcGRvd25iYXNlIC5lLWxpc3QtaXRlbSAqIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICB0ZXh0LWluZGVudDogMDtcclxufVxyXG5cclxuLmJvb3RzdHJhcDQgI0l0ZW1zX3BvcHVwLmUtcG9wdXAgLmVtcEltYWdlIHtcclxuICBtYXJnaW46IDBweCAxNnB4O1xyXG59XHJcblxyXG4uYm9vdHN0cmFwNCAjSXRlbXNfcG9wdXAuZS1wb3B1cCAuam9iIHtcclxuICBtYXJnaW4tdG9wOiAwO1xyXG59XHJcblxyXG4uZS1iaWdnZXIuYm9vdHN0cmFwNCAjSXRlbXNfcG9wdXAuZS1wb3B1cCAuam9iIHtcclxuICBtYXJnaW4tdG9wOiAtMTVweDtcclxufVxyXG4jSXRlbXNfcG9wdXAgLmxvY2F0aW9uIHtcclxuICBtYXJnaW46IDZweCAxNnB4O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBtYXJnaW4tdG9wOiA5cHg7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwMHB4O1xyXG59XHJcbiNJdGVtc19wb3B1cCAucGhvbmVudW1iZXIge1xyXG4gIG1hcmdpbjogNnB4IDE2cHg7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG4gIG1hcmdpbi10b3A6IC0zOXB4O1xyXG4gIGZsb2F0OiByaWdodDtcclxufVxyXG4jSXRlbXNfcG9wdXAgLmZ1bGxuYW1lIHtcclxuICBtYXJnaW46IDZweCAxNnB4O1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBtYXJnaW4tdG9wOiAwcHg7XHJcbn1cclxuLmUtYmlnZ2VyICNJdGVtc19wb3B1cCAucGhvbmVudW1iZXIge1xyXG4gIG1hcmdpbi10b3A6IC0xNnB4O1xyXG59XHJcbi5lLWJpZ2dlciAjSXRlbXNfcG9wdXAgLmxvY2F0aW9uIHtcclxuICBtYXJnaW4tdG9wOiAtMTZweDtcclxufVxyXG4uZS1iaWdnZXIgI0l0ZW1zX3BvcHVwIC5mdWxsbmFtZSB7XHJcbiAgbWFyZ2luLXRvcDogLTE2cHg7XHJcbn1cclxuLmJvb3RzdHJhcDQgI0l0ZW1zX3BvcHVwLmUtcG9wdXAgLmZ1bGxuYW1lIHtcclxuICBtYXJnaW46IDBweCAxNnB4O1xyXG59XHJcblxyXG4uYm9vdHN0cmFwNCAjSXRlbXNfcG9wdXAuZS1wb3B1cCAucGhvbmVudW1iZXIge1xyXG4gIG1hcmdpbi10b3A6IDA7XHJcbn1cclxuXHJcbi5lLWJpZ2dlci5ib290c3RyYXA0ICNJdGVtc19wb3B1cC5lLXBvcHVwIC5waG9uZW51bWJlciB7XHJcbiAgbWFyZ2luLXRvcDogMTVweDtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, Validators } from '@angular/forms';\nimport { AlertController, Platform } from '@ionic/angular';\nimport { Customer, Items } from 'src/Tabels/tabels-list';\nimport { CustomerService } from '../Service/customer.service';\nimport { ItemsService } from '../Service/items.service';\nimport { SaleOrderService } from '../Service/sale-order.service';\n@Component({\n  selector: 'app-sale-order',\n  templateUrl: './sale-order.page.html',\n  styleUrls: ['./sale-order.page.scss'],\n})\nexport class SaleOrderPage implements OnInit {\n   regform=this.fb.group({});\n  listOfItems: Items[];\n  listOfCustomer: Customer[];\n  saleOrderId: string;\n  usePicker: boolean;\n  constructor(private fb:FormBuilder,private platform:Platform, \n    private itemsService:ItemsService,private customerService:CustomerService,\n    private alertController:AlertController,private saleOrderService:SaleOrderService) { }\n\n  ngOnInit() {\n    this.regform=this.fb.group({\n      saleOrderNumber:['',Validators.required],\n      customerName:['',Validators.required],\n      date:['',Validators.required],\n      totalAmount:['',Validators.required],\n      lineItems: this.fb.array([this.addLineItemsGroup()])\n    });\n    this.getCustomers();\n    this.getItems();\n    if((this.platform.is('mobile') && !this.platform.is('hybrid')) || \n      this.platform.is('desktop')\n    ) {\n      this.usePicker = true;\n    }\n  }\n  addLineItemsGroup() {\n    return this.fb.group({\n      itemCode: [null, Validators.required],\n      quantity: [null, Validators.required],\n      cost: [null, Validators.required],\n      subTotal: [null]\n    });\n  }\n  addLineItems() {\n    this.addLineItemsArray.push(this.addLineItemsGroup());\n  }\n  removeLineOfItems(index) {\n    this.addLineItemsArray.removeAt(index);\n  }\n  get addLineItemsArray() {\n    const control = <FormArray>this.regform.get('lineItems');\n    return control;\n  }\n  getItems(){\n    try{\n      this.itemsService.getAllItem().subscribe(result=>{\n      if(result.length>0){\n        this.listOfItems=result;\n      }\n      else{\n        this.AlertInternet();\n      }\n      });\n    }\n    catch(error){\n      console.log(error);\n    }\n  }\n  getCustomers(){\n    try{\n      this.customerService.getAllCustomer().subscribe(result=>{\n      if(result.length>0){\n        this.listOfCustomer=result;\n      }\n      else{\n        this.AlertInternet();\n      }\n      });\n    }\n    catch(error){\n      console.log(error);\n    }\n  }\n  async AlertInternet(){\n    const alert = await this.alertController.create({\n      cssClass:'my-custom-class',\n      header:'Internet',\n      message:'Please trun on data or wifi',\n      buttons:['ok']\n    });\n    await alert.present();\n   }\n  saveSaleOrder(){\n    if(this.regform.valid){\n      if(!this.saleOrderId){\n        this.saleOrderService.create(this.regform.value);\n      }\n      else{\n        this.saleOrderService.updateSaleOrder(this.regform.value,this.saleOrderId);\n      }\n      this.regform.reset();\n      this.saleOrderId=\"\";\n      this.presentAlert(\"Add Purchase Sucessfully\");\n    }\n     else{\n    this.presentAlert(\"Please enter all fileds\");\n     }\n  }\n  async presentAlert(message){\n    const alert = await this.alertController.create({\n      cssClass:'my-custom-class',\n      header:'Sale Order',\n      message:message,\n      buttons:['ok']\n    });\n    await alert.present();\n   }\npublic fields2: Object = { text: 'fullname', value: 'fullname' };\npublic watermark2: string = 'Select Customer Information';\n public fields: Object = { text: 'name', value: 'name' };\n public height: string = '250px';\n public watermark: string = 'Select an Items';\n}\n"]}