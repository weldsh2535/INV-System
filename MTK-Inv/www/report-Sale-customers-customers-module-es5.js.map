{"version":3,"sources":["webpack:///src/app/report/Sale/customers/customers.page.html","webpack:///src/app/report/Sale/customers/customers-routing.module.ts","webpack:///src/app/report/Sale/customers/customers.module.ts","webpack:///src/app/report/Sale/customers/customers.page.scss","webpack:///src/app/report/Sale/customers/customers.page.ts"],"names":["routes","path","component","CustomersPageRoutingModule","imports","forChild","exports","CustomersPageModule","declarations","CustomersPage","customerService","loadingController","papa","platform","file","socialSharing","generateB","generateList","csvData","headerRow","loadCSV","getCustomerList","getAllCustomer","subscribe","data","extractData","JSON","stringify","err","console","log","res","parse","complete","parsedData","splice","csv","unparse","fields","is","writeFile","dataDirectory","replace","then","share","nativeURL","e","blob","Blob","a","window","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","index","item","customerList","presentLoading","create","message","overlay","loading","present","setTimeout","dismiss","selector","template"],"mappings":"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","file":"report-Sale-customers-customers-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Reports</ion-title>\\n    <ion-label>Customer List</ion-label>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-button (click)=\\\"filter()\\\"><ion-icon name=\\\"list-circle-outline\\\"></ion-icon>Filters\\n  <ion-select class=\\\"custom-options\\\" multiple=\\\"true\\\">\\n    <ion-select-option value=\\\"brown\\\">Brown</ion-select-option>\\n    <ion-select-option value=\\\"blonde\\\">Blonde</ion-select-option>\\n    <ion-select-option value=\\\"black\\\">Black</ion-select-option>\\n    <ion-select-option value=\\\"red\\\">Red</ion-select-option>\\n  </ion-select>\\n</ion-button>\\n  <table class=\\\"table table-hover\\\">\\n    <colgroup>\\n      <col width=\\\"5%\\\">\\n      <col width=\\\"5%\\\">\\n      <col width=\\\"5%\\\">\\n      <col width=\\\"5%\\\">\\n    </colgroup>\\n    <thead style=\\\"background-color: cadetblue;\\\">\\n      <tr>\\n        <th scope=\\\"col\\\">Full Name</th>\\n        <th scope=\\\"col\\\">Address</th>\\n        <th scope=\\\"col\\\">Phone number</th>\\n        <th scope=\\\"col\\\">Location</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr *ngFor=\\\"let item of customerList\\\">\\n        <td>{{item.fullname}}</td>\\n        <td>{{item.address}}</td>\\n        <td>{{item.phonenumber}}</td>\\n        <td>{{item.location}}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n  <div *ngIf=\\\"generateList\\\">\\n    <ion-card>\\n      <ion-card-header>\\n        <ion-card-title>Customer List</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        List of customers and their contact information\\n        Want to customize this report?\\n        Just change the settings at the top of this window before selecting Generate.\\n        <ion-button (click)=\\\"generate()\\\">generate</ion-button>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CustomersPage } from './customers.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustomersPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CustomersPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CustomersPageRoutingModule } from './customers-routing.module';\n\nimport { CustomersPage } from './customers.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CustomersPageRoutingModule\n  ],\n  declarations: [CustomersPage]\n})\nexport class CustomersPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydC9TYWxlL2N1c3RvbWVycy9jdXN0b21lcnMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { CustomerService } from 'src/app/Service/customer.service';\nimport { Customer } from 'src/Tabels/tabels-list';\nimport { Papa } from 'ngx-papaparse';\nimport { Platform } from '@ionic/angular';\nimport { File } from '@ionic-native/file/ngx';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\n@Component({\n  selector: 'app-customers',\n  templateUrl: './customers.page.html',\n  styleUrls: ['./customers.page.scss'],\n})\nexport class CustomersPage implements OnInit {\n  customerList: Customer[];\n  generateB: number = 0;\n  generateList: boolean = true;\n  private loading;\n  csvData: any[] = [];\n  headerRow: any[] = [];\n  constructor(private customerService: CustomerService,\n    public loadingController: LoadingController,\n    private papa: Papa, private platform: Platform,\n    private file: File,\n    private socialSharing: SocialSharing\n  ) {\n    this.loadCSV();\n  }\n\n  ngOnInit() {\n    this.getCustomerList();\n  }\n  private loadCSV() {\n    this.customerService.getAllCustomer()\n      .subscribe(\n        data =>  this.extractData(JSON.stringify(data)),\n        err => console.log('something went wrong: ', err)\n      );\n  }\n  private extractData(res) {\n    let csvData = res || '';\n    this.papa.parse(csvData, {\n      complete: parsedData => {\n        this.headerRow = parsedData.data.splice(0, 1)[0];\n        console.log(\"header -----------\"+this.headerRow)\n        this.csvData = parsedData.data;\n        console.log(\"data list----\"+this.csvData)\n      }\n    });\n  }\n\n  exportCSV() {\n    let csv = this.papa.unparse({\n      fields: this.headerRow,\n      data: this.csvData\n    });\n\n    if (this.platform.is('cordova')) {\n      this.file.writeFile(this.file.dataDirectory, 'data.csv', csv, { replace: true }).then(res => {\n        this.socialSharing.share(null, null, res.nativeURL, null).then(e => {\n          // Success\n        }).catch(e => {\n          console.log('Share failed:', e)\n        });\n      }, err => {\n        console.log('Error: ', err);\n      });\n\n    } else {\n      // Dummy implementation for Desktop download purpose\n      var blob = new Blob([csv]);\n      var a = window.document.createElement('a');\n      a.href = window.URL.createObjectURL(blob);\n      a.download = 'newdata.csv';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  }\n\n  trackByFn(index: any, item: any) {\n    return index;\n  }\n  getCustomerList() {\n    this.customerService.getAllCustomer().subscribe(res => {\n      if (this.generateB == 0) {\n        this.customerList = null;\n      }\n      else {\n        this.customerList = res;\n        this.generateList = false;\n      }\n\n    });\n  }\n  filter() {\n\n  }\n  generate() {\n    this.presentLoading();\n  }\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      message: 'Please wait...'\n    }).then((overlay) => {\n      this.loading = overlay\n      this.loading.present();\n    });\n    setTimeout(() => {\n      this.loading.dismiss();\n      this.generateB = 1\n      this.getCustomerList();\n    }, 4000);\n  }\n}\n"]}